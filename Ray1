-- [[ SCRIPT COMPLETO - LUIS UNV ]]

local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/luis32405516-cmyk/library.lua/refs/heads/main/Ray"))()
local Window = Library:CreateWindow()

local Player = game.Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local Root = Character:WaitForChild("HumanoidRootPart")

-- [[ VARIABLES DE ESTADO ]]
local Noclip = false
local InfiniteJump = false
local PosicionGuardada = nil

-- [[ PESTA√ëA: MOVIMIENTO ]]
Window:CreateTab("‚ö° MOVIMIENTO")

Window:CreateSlider("Velocidad", function(valor)
    Humanoid.WalkSpeed = valor
end)

Window:CreateSlider("Salto", function(valor)
    Humanoid.JumpPower = valor
end)

Window:CreateSwitch("Noclip", function(estado)
    Noclip = estado
    game:GetService("RunService").Stepped:Connect(function()
        if Noclip and Character then
            for _, part in pairs(Character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end
    end)
end)

Window:CreateSwitch("Salto Infinito", function(estado)
    InfiniteJump = estado
    game:GetService("UserInputService").JumpRequest:Connect(function()
        if InfiniteJump then
            Humanoid:ChangeState("Jumping")
        end
    end)
end)

-- [[ PESTA√ëA: TELEPORT (NUEVA) ]]
Window:CreateTab("üìç TELEPORT")

Window:CreateSwitch("Guardar Ubicaci√≥n", function(estado)
    if estado then
        PosicionGuardada = Root.CFrame
        print("Ubicaci√≥n Guardada ‚úÖ")
    end
end)

Window:CreateSwitch("Teletransportarse", function(estado)
    if estado and PosicionGuardada then
        Root.CFrame = PosicionGuardada
    end
end)

-- [[ PESTA√ëA: COMBATE ]]
Window:CreateTab("üíÄ COMBATE")

Window:CreateSwitch("Kill Aura (Test)", function(estado)
    if estado then print("Kill Aura Activo") end
end)

-- [[ PESTA√ëA: VISUALES ]]
Window:CreateTab("üëÅÔ∏è VISUALES")

Window:CreateSwitch("Nombres ESP", function(estado)
    for _, p in pairs(game.Players:GetPlayers()) do
        if p ~= Player and p.Character and p.Character:FindFirstChild("Head") then
            if estado then
                local bill = Instance.new("BillboardGui", p.Character.Head)
                bill.Name = "LuisESP"
                bill.AlwaysOnTop = true
                bill.Size = UDim2.new(0, 100, 0, 50)
                bill.ExtentsOffset = Vector3.new(0, 3, 0)
                local lbl = Instance.new("TextLabel", bill)
                lbl.Text = p.Name
                lbl.Size = UDim2.new(1, 0, 1, 0)
                lbl.TextColor3 = Color3.new(1, 1, 1)
                lbl.BackgroundTransparency = 1
                lbl.Font = Enum.Font.GothamBold
                lbl.TextSize = 12
            else
                if p.Character.Head:FindFirstChild("LuisESP") then
                    p.Character.Head.LuisESP:Destroy()
                end
            end
        end
    end
end)

-- [[ ACTUALIZAR PERSONAJE ]]
Player.CharacterAdded:Connect(function(newChar)
    Character = newChar
    Humanoid = newChar:WaitForChild("Humanoid")
    Root = newChar:WaitForChild("HumanoidRootPart")
end)
