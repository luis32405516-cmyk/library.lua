-- [[ LUIS UNV - PLATBOOST COMPATIBLE FIX ]]

local LP = game:GetService("Players").LocalPlayer
local HttpService = game:GetService("HttpService")

-- Asegurar compatibilidad de la función Request
local request = (syn and syn.request) or (http and http.request) or http_request or (fluxus and fluxus.request) or request

-- Pegamos el código corregido de PlatoBoost
local service = 18296
local secret = "2605ebd3-2007-4382-8ea8-698a6267790c"

-- Función simple para copiar link y verificar (sin tanto rodeo)
local function getPlatoLink()
    local response = request({
        Url = "https://api.platoboost.com/public/start",
        Method = "POST",
        Headers = {["Content-Type"] = "application/json"},
        Body = HttpService:JSONEncode({
            service = service,
            identifier = tostring(LP.UserId) -- Identificador directo
        })
    })
    
    if response.StatusCode == 200 then
        local data = HttpService:JSONDecode(response.Body)
        if data.success then
            setclipboard(data.data.url)
            return true
        end
    end
    return false
end

local function verifyPlatoKey(key)
    local url = "https://api.platoboost.com/public/whitelist/"..service.."?identifier="..LP.UserId.."&key="..key
    local response = request({Url = url, Method = "GET"})
    
    if response.StatusCode == 200 then
        local data = HttpService:JSONDecode(response.Body)
        return data.success and data.data.valid
    end
    return false
end

-- [[ INTERFAZ SIMPLE Y FUNCIONAL ]]
local ScreenGui = Instance.new("ScreenGui", game:GetService("CoreGui"))
local Main = Instance.new("Frame", ScreenGui)
Main.Size = UDim2.new(0, 300, 0, 200); Main.Position = UDim2.new(0.5, -150, 0.5, -100); Main.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
Instance.new("UICorner", Main)

local Title = Instance.new("TextLabel", Main)
Title.Text = "LUIS UNV LOADER"; Title.Size = UDim2.new(1, 0, 0, 40); Title.TextColor3 = Color3.new(1,1,1); Title.BackgroundTransparency = 1

local KeyBox = Instance.new("TextBox", Main)
KeyBox.PlaceholderText = "Pega la Key aquí..."; KeyBox.Size = UDim2.new(0.8, 0, 0, 35); KeyBox.Position = UDim2.new(0.1, 0, 0.3, 0); KeyBox.BackgroundColor3 = Color3.fromRGB(30, 30, 30); KeyBox.TextColor3 = Color3.new(1, 1, 1); Instance.new("UICorner", KeyBox)

local GetBtn = Instance.new("TextButton", Main)
GetBtn.Text = "OBTENER LINK"; GetBtn.Size = UDim2.new(0.8, 0, 0, 35); GetBtn.Position = UDim2.new(0.1, 0, 0.55, 0); GetBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 45); GetBtn.TextColor3 = Color3.new(1, 1, 1); Instance.new("UICorner", GetBtn)

GetBtn.MouseButton1Click:Connect(function()
    if getPlatoLink() then GetBtn.Text = "¡LINK COPIADO!" else GetBtn.Text = "ERROR API" end
    task.wait(2); GetBtn.Text = "OBTENER LINK"
end)

local VerifyBtn = Instance.new("TextButton", Main)
VerifyBtn.Text = "VERIFICAR"; VerifyBtn.Size = UDim2.new(0.8, 0, 0, 35); VerifyBtn.Position = UDim2.new(0.1, 0, 0.8, 0); VerifyBtn.BackgroundColor3 = Color3.fromRGB(0, 120, 200); VerifyBtn.TextColor3 = Color3.new(1, 1, 1); Instance.new("UICorner", VerifyBtn)

VerifyBtn.MouseButton1Click:Connect(function()
    if verifyPlatoKey(KeyBox.Text) then
        VerifyBtn.Text = "¡ÉXITO!"; task.wait(1)
        ScreenGui:Destroy()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/luis32405516-cmyk/library.lua/refs/heads/main/Ray1"))()
    else
        VerifyBtn.Text = "KEY INVÁLIDA"; task.wait(2); VerifyBtn.Text = "VERIFICAR"
    end
end)
