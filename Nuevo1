local UIS = game:GetService("UserInputService")
local RS = game:GetService("RunService")
local TS = game:GetService("TweenService")
local LP = game:GetService("Players").LocalPlayer

local State = { Flying = false, FlySpeed = 2, Noclip = false }
local Char, Hum, Root

-- UI PRINCIPAL
local sg = Instance.new("ScreenGui", LP.PlayerGui)
sg.Name = "LuisNeonReal"

local Main = Instance.new("Frame", sg)
Main.Size = UDim2.fromOffset(450, 300)
Main.Position = UDim2.new(0.5, -225, 0.5, -150)
Main.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
Main.BorderSizePixel = 0
Main.Active = true
Main.Draggable = true
Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 6)
local MainStroke = Instance.new("UIStroke", Main)
MainStroke.Color = Color3.fromRGB(0, 255, 255)
MainStroke.Thickness = 2

-- BARRA LATERAL (CategorÃ­as de la imagen)
local SideBar = Instance.new("Frame", Main)
SideBar.Size = UDim2.new(0, 80, 1, -40)
SideBar.Position = UDim2.fromOffset(0, 40)
SideBar.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
SideBar.BorderSizePixel = 0

local function AddSideLabel(txt, pos)
    local l = Instance.new("TextLabel", SideBar)
    l.Size = UDim2.new(1, 0, 0, 30)
    l.Position = UDim2.fromOffset(0, pos)
    l.BackgroundTransparency = 1
    l.Text = txt
    l.TextColor3 = Color3.fromRGB(150, 150, 150)
    l.Font = Enum.Font.Gotham
    l.TextSize = 12
end
AddSideLabel("Size", 10) AddSideLabel("Tector", 40) AddSideLabel("Folzor", 70) AddSideLabel("Folder", 100)

-- TÃTULO Y LOGO
local Header = Instance.new("TextLabel", Main)
Header.Size = UDim2.new(1, 0, 0, 40)
Header.Text = "ðŸ’Ž LUIS PRESTIGE V7 (NEON EDITION)"
Header.TextColor3 = Color3.fromRGB(0, 255, 255)
Header.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Header.Font = Enum.Font.GothamBold
Header.TextSize = 16
Header.TextXAlignment = Enum.TextXAlignment.Left
Header.Position = UDim2.fromOffset(15, 0)

-- CONTENEDOR DE CONTROLES
local Scroll = Instance.new("ScrollingFrame", Main)
Scroll.Size = UDim2.new(1, -100, 1, -60)
Scroll.Position = UDim2.fromOffset(90, 50)
Scroll.BackgroundTransparency = 1
Scroll.ScrollBarThickness = 0
Scroll.AutomaticCanvasSize = Enum.AutomaticSize.Y

local Layout = Instance.new("UIListLayout", Scroll)
Layout.Padding = UDim.new(0, 10)

-- FUNCIONES DE COMPONENTES (Estilo Imagen)
local function AddNeonButton(txt, color, cb)
    local b = Instance.new("TextButton", Scroll)
    b.Size = UDim2.new(0.95, 0, 0, 40)
    b.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    b.Text = "  ðŸš€ " .. txt
    b.TextColor3 = Color3.new(1,1,1)
    b.Font = Enum.Font.GothamBold
    b.TextXAlignment = Enum.TextXAlignment.Left
    Instance.new("UICorner", b)
    local s = Instance.new("UIStroke", b)
    s.Color = color
    s.Thickness = 1.5
    b.MouseButton1Click:Connect(cb)
end

local function AddNeonSlider(txt, color, min, max, def, cb)
    local f = Instance.new("Frame", Scroll)
    f.Size = UDim2.new(0.95, 0, 0, 50)
    f.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Instance.new("UICorner", f)
    local s = Instance.new("UIStroke", f)
    s.Color = color
    s.Thickness = 1.2

    local l = Instance.new("TextLabel", f)
    l.Size = UDim2.new(1, -10, 0, 20)
    l.Position = UDim2.fromOffset(10, 5)
    l.Text = txt .. " " .. def
    l.TextColor3 = Color3.new(1,1,1)
    l.BackgroundTransparency = 1
    l.TextXAlignment = Enum.TextXAlignment.Left

    local bar = Instance.new("Frame", f)
    bar.Size = UDim2.new(0.6, 0, 0, 4)
    bar.Position = UDim2.new(0.35, 0, 0.65, 0)
    bar.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)

    local fill = Instance.new("Frame", bar)
    fill.Size = UDim2.new((def-min)/(max-min), 0, 1, 0)
    fill.BackgroundColor3 = color

    local move = false
    local function update(input)
        local r = math.clamp((input.Position.X - bar.AbsolutePosition.X) / bar.AbsoluteSize.X, 0, 1)
        local v = math.floor(min + (max - min) * r)
        fill.Size = UDim2.new(r, 0, 1, 0)
        l.Text = txt .. " " .. v
        cb(v)
    end
    f.InputBegan:Connect(function(i) if i.UserInputType == Enum.UserInputType.MouseButton1 or i.UserInputType == Enum.UserInputType.Touch then move = true update(i) end end)
    UIS.InputChanged:Connect(function(i) if move and (i.UserInputType == Enum.UserInputType.MouseMovement or i.UserInputType == Enum.UserInputType.Touch) then update(i) end end)
    UIS.InputEnded:Connect(function(i) if i.UserInputType == Enum.UserInputType.MouseButton1 or i.UserInputType == Enum.UserInputType.Touch then move = false end end)
end

-- ACCIONES
AddNeonButton("FLY MODE", Color3.fromRGB(0, 255, 255), function()
    State.Flying = not State.Flying
    Char = LP.Character; Hum = Char:FindFirstChildOfClass("Humanoid"); Root = Char:FindFirstChild("HumanoidRootPart")
    Hum.PlatformStand = State.Flying
end)

AddNeonSlider("VELOCIDAD FLY", Color3.fromRGB(255, 50, 150), 1, 20, 2, function(v) State.FlySpeed = v end)

AddNeonButton("NOCLIP 16 500", Color3.fromRGB(0, 255, 255), function()
    State.Noclip = not State.Noclip
    RS.Stepped:Connect(function()
        if State.Noclip and LP.Character then
            for _, p in pairs(LP.Character:GetDescendants()) do
                if p:IsA("BasePart") then p.CanCollide = false end
            end
        end
    end)
end)

AddNeonSlider("WALKSPEED", Color3.fromRGB(0, 255, 255), 16, 500, 16, function(v) if Hum then Hum.WalkSpeed = v end end)

-- BUCLE DE VUELO
RS.RenderStepped:Connect(function()
    if State.Flying and Root and Hum then
        local Cam = workspace.CurrentCamera
        local Move = Hum.MoveDirection
        if Move.Magnitude > 0 then
            local camDir = Cam.CFrame:VectorToWorldSpace(Vector3.new(Move.X, 0, Move.Z))
            Root.CFrame = Root.CFrame + (camDir * State.FlySpeed)
        end
        Root.Velocity = Vector3.zero
    end
end)
