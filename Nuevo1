--[[
    LUIS PRESTIGE V7 - NEON EDITION
    + DiseÃ±o Cyan Neon (UIStroke)
    + Fly por CFrame (Anti-Bloqueo)
    + Sliders TÃ¡ctiles Corregidos
]]

local UIS = game:GetService("UserInputService")
local RS = game:GetService("RunService")
local TS = game:GetService("TweenService")
local LP = game:GetService("Players").LocalPlayer

local State = {
    Flying = false, FlySpeed = 2, 
    Noclip = false, WalkSpeed = 16
}

local Char, Hum, Root

-- NotificaciÃ³n Estilo NeÃ³n
local function Notify(txt)
    local sg = LP.PlayerGui:FindFirstChild("L_Notif") or Instance.new("ScreenGui", LP.PlayerGui)
    sg.Name = "L_Notif"
    local f = Instance.new("TextLabel", sg)
    f.Size = UDim2.fromOffset(220, 35)
    f.Position = UDim2.new(0.5, -110, 0.05, 0)
    f.BackgroundColor3 = Color3.fromRGB(10, 10, 15)
    f.TextColor3 = Color3.fromRGB(0, 255, 255)
    f.Text = "âš¡ " .. txt
    f.Font = Enum.Font.GothamBold
    local s = Instance.new("UIStroke", f)
    s.Color = Color3.fromRGB(0, 255, 255)
    s.Thickness = 2
    Instance.new("UICorner", f)
    task.delay(2.5, function() f:Destroy() end)
end

-- LÃ³gica de Vuelo CFrame (Efectiva 100%)
RS.RenderStepped:Connect(function()
    if State.Flying and Root and Hum then
        local Cam = workspace.CurrentCamera
        local Move = Hum.MoveDirection
        if Move.Magnitude > 0 then
            local camDir = Cam.CFrame:VectorToWorldSpace(Vector3.new(Move.X, 0, Move.Z))
            Root.CFrame = Root.CFrame + (camDir * State.FlySpeed)
        end
        Root.Velocity = Vector3.zero
    end
end)

-- INTERFAZ NEÃ“N
local sg = Instance.new("ScreenGui", LP.PlayerGui)
sg.Name = "LuisNeonUI"

local Main = Instance.new("Frame", sg)
Main.Size = UDim2.fromOffset(230, 38)
Main.Position = UDim2.new(0.5, -115, 0.3, 0)
Main.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
Main.Active = true
Main.Draggable = true
local M_Stroke = Instance.new("UIStroke", Main)
M_Stroke.Color = Color3.fromRGB(0, 255, 255)
M_Stroke.Thickness = 2
Instance.new("UICorner", Main)

local Title = Instance.new("TextLabel", Main)
Title.Size = UDim2.new(1, -40, 0, 35)
Title.Position = UDim2.fromOffset(10, 0)
Title.Text = "LUIS PRESTIGE V7"
Title.TextColor3 = Color3.fromRGB(0, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.BackgroundTransparency = 1
Title.TextXAlignment = Enum.TextXAlignment.Left

local Content = Instance.new("ScrollingFrame", Main)
Content.Size = UDim2.new(1, -10, 0, 280)
Content.Position = UDim2.fromOffset(5, 45)
Content.BackgroundTransparency = 1
Content.Visible = false
Content.ScrollBarThickness = 0
Content.AutomaticCanvasSize = Enum.AutomaticSize.Y

local Layout = Instance.new("UIListLayout", Content)
Layout.Padding = UDim.new(0, 8)

local Toggle = Instance.new("TextButton", Main)
Toggle.Size = UDim2.fromOffset(30, 30)
Toggle.Position = UDim2.new(1, -35, 0, 4)
Toggle.Text = "+"
Toggle.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
Toggle.TextColor3 = Color3.fromRGB(0, 255, 255)
Instance.new("UICorner", Toggle)

Toggle.MouseButton1Click:Connect(function()
    Content.Visible = not Content.Visible
    Main.Size = Content.Visible and UDim2.fromOffset(230, 340) or UDim2.fromOffset(230, 38)
    Toggle.Text = Content.Visible and "-" or "+"
end)

-- Componentes NeÃ³n (Botones y Sliders)
local function AddButton(txt, cb)
    local b = Instance.new("TextButton", Content)
    b.Size = UDim2.new(1, 0, 0, 35)
    b.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
    b.Text = txt
    b.TextColor3 = Color3.fromRGB(200, 255, 255)
    b.Font = Enum.Font.Gotham
    local s = Instance.new("UIStroke", b)
    s.Color = Color3.fromRGB(0, 255, 255)
    s.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    Instance.new("UICorner", b)
    b.MouseButton1Click:Connect(cb)
end

local function AddSlider(txt, min, max, def, cb)
    local f = Instance.new("Frame", Content)
    f.Size = UDim2.new(1, 0, 0, 45)
    f.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
    Instance.new("UICorner", f)
    local s = Instance.new("UIStroke", f)
    s.Color = Color3.fromRGB(0, 255, 255)
    s.Transparency = 0.5

    local l = Instance.new("TextLabel", f)
    l.Size = UDim2.new(1, 0, 0, 20)
    l.Text = txt .. ": " .. def
    l.TextColor3 = Color3.new(1, 1, 1)
    l.BackgroundTransparency = 1

    local bar = Instance.new("Frame", f)
    bar.Size = UDim2.new(0.8, 0, 0, 4)
    bar.Position = UDim2.new(0.1, 0, 0.7, 0)
    bar.BackgroundColor3 = Color3.new(0, 0, 0)

    local fill = Instance.new("Frame", bar)
    fill.Size = UDim2.new((def-min)/(max-min), 0, 1, 0)
    fill.BackgroundColor3 = Color3.fromRGB(0, 255, 255)
    Instance.new("UIStroke", fill).Color = Color3.fromRGB(0, 255, 255)

    local move = false
    local function update(input)
        local r = math.clamp((input.Position.X - bar.AbsolutePosition.X) / bar.AbsoluteSize.X, 0, 1)
        local v = math.floor(min + (max - min) * r)
        fill.Size = UDim2.new(r, 0, 1, 0)
        l.Text = txt .. ": " .. v
        cb(v)
    end
    f.InputBegan:Connect(function(i) if i.UserInputType == Enum.UserInputType.MouseButton1 or i.UserInputType == Enum.UserInputType.Touch then move = true update(i) end end)
    UIS.InputChanged:Connect(function(i) if move and (i.UserInputType == Enum.UserInputType.MouseMovement or i.UserInputType == Enum.UserInputType.Touch) then update(i) end end)
    UIS.InputEnded:Connect(function(i) if i.UserInputType == Enum.UserInputType.MouseButton1 or i.UserInputType == Enum.UserInputType.Touch then move = false end end)
end

-- ACCIONES FINALES
AddButton("ðŸš€ ACTIVAR FLY", function()
    State.Flying = not State.Flying
    Char = LP.Character; Hum = Char:FindFirstChildOfClass("Humanoid"); Root = Char:FindFirstChild("HumanoidRootPart")
    Hum.PlatformStand = State.Flying
    Notify(State.Flying and "FLY ACTIVADO ðŸš€" or "FLY DESACTIVADO ðŸ›‘")
end)

AddSlider("VELOCIDAD FLY", 1, 15, 2, function(v) State.FlySpeed = v end)

AddButton("ðŸ‘» NOCLIP MODE", function()
    State.Noclip = not State.Noclip
    Notify(State.Noclip and "NOCLIP ON ðŸ‘»" or "NOCLIP OFF ðŸ§±")
    RS.Stepped:Connect(function()
        if State.Noclip and LP.Character then
            for _, p in pairs(LP.Character:GetDescendants()) do
                if p:IsA("BasePart") then p.CanCollide = false end
            end
        end
    end)
end)

AddSlider("CAMINAR", 16, 500, 16, function(v) if Hum then Hum.WalkSpeed = v end end)
AddSlider("SALTO", 50, 600, 50, function(v) if Hum then Hum.JumpPower = v; Hum.UseJumpPower = true end end)

Notify("LUIS PRESTIGE V7 CARGADO âœ…")
