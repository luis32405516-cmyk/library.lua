local RainbowUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/luis32405516-cmyk/library.lua/refs/heads/main/Prueba2?v=" .. tick()))()
local hud = RainbowUI:CreateWindow(240, 480)

local player = game.Players.LocalPlayer
local RunService = game:GetService("RunService")
local state = { fly = false, flySpeed = 50, noclip = false }

local fMov = hud:AddFolder("AJUSTES PERSONAJE âš™ï¸")

-- VUELO CON CONTROL TOTAL
fMov:AddButton("VOLAR (FLY)", function()
    state.fly = not state.fly
    local char = player.Character
    if not char then return end
    local root = char:FindFirstChild("HumanoidRootPart")
    local hum = char:FindFirstChildOfClass("Humanoid")
    
    if state.fly then
        local bv = Instance.new("BodyVelocity", root)
        local bg = Instance.new("BodyGyro", root)
        bv.Name = "FlyVel"
        bg.Name = "FlyGyro"
        
        bv.MaxForce = Vector3.new(9e9, 9e9, 9e9)
        bg.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
        bg.P = 15000
        
        task.spawn(function()
            while state.fly and char:Parent() do
                local camera = workspace.CurrentCamera
                hum.PlatformStand = true -- Evita animaciones de caÃ­da
                bg.CFrame = camera.CFrame
                
                local moveDir = hum.MoveDirection
                if moveDir.Magnitude > 0 then
                    -- Calculamos la direcciÃ³n basÃ¡ndonos en la cÃ¡mara y el movimiento del jugador
                    local direction = camera.CFrame.Rotation * Vector3.new(moveDir.X, 0, moveDir.Z)
                    bv.Velocity = direction.Unit * state.flySpeed
                else
                    bv.Velocity = Vector3.new(0, 0, 0) -- Se detiene en seco si sueltas el control
                end
                RunService.RenderStepped:Wait()
            end
            if bv then bv:Destroy() end
            if bg then bg:Destroy() end
            hum.PlatformStand = false
        end)
    end
end)

fMov:AddSlider("VELOCIDAD VUELO", 10, 1000, 50, function(v)
    state.flySpeed = v
end)

fMov:AddButton("NOCLIP (ATRAVESAR)", function()
    state.noclip = not state.noclip
    RunService.Stepped:Connect(function()
        if state.noclip and player.Character then
            for _, p in pairs(player.Character:GetDescendants()) do
                if p:IsA("BasePart") then p.CanCollide = false end
            end
        end
    end)
end)

fMov:AddSlider("VELOCIDAD CAMINAR", 16, 500, 16, function(v)
    if player.Character and player.Character:FindFirstChild("Humanoid") then 
        player.Character.Humanoid.WalkSpeed = v 
    end
end)

hud:Notify("Â¡Control de Vuelo Activado! ðŸš€", 4)
